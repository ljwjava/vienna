!function(e){var t={};function a(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(r,l,function(t){return e[t]}.bind(null,l));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t,a){"use strict";var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={raw:{ml:80,mr:40,mt:80,mb:130,w:750,h:550,m:5,bar:20,barm:50,font:24,text:24},pos:0,chart:{age:0,data:[]}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.chart;this.state.axis=this.state.raw,this.state.ctx=document.getElementById(this.props.id).getContext("2d"),this.state.ctx.lineCap="round",this.state.ctx.lineJoin="round",e?(e.content.data.map(function(e){for(var t=0;t<e.data.length;t++)e.data[t]=Math.round(e.data[t])}),this.state.chart=e.content,this.setState({productName:e.productName,chart:this.state.chart})):(this.state.chart={age:0,data:[]},this.setState({productName:"",chart:this.state.chart}))}},{key:"draw",value:function(e){var t=this.state.axis,a=this.state.ctx;a.clearRect(0,0,t.w,t.h);var r=this.measure(this.state.chart.data),l=t.ml,i=t.h-t.mb,n=t.w-t.mr-t.ml,c=t.h-t.mb-t.mt;a.lineDash=null,a.lineWidth=1,a.beginPath(),a.moveTo(l,i-c),a.lineTo(l,i),a.lineTo(l+n,i),a.font=t.font+"px Arial",a.textAlign="right",a.textBaseline="middle",a.fillText("万",l,i-1.1*c);for(var s=0;s<=10;s++){a.moveTo(l,i-c*s/10),a.lineTo(l-t.m,i-c*s/10);var o=r.y*s/10/1e4;o=o<10?o.toFixed(1):Math.round(o),a.fillText(o,l-t.m-1,i-c*s/10)}a.textAlign="center",a.textBaseline="top";for(var m=0;m<r.x;m+=Math.ceil(r.x/10))a.moveTo(l+n*m/(r.x-1),i),a.lineTo(l+n*m/(r.x-1),i+t.m),a.fillText(this.state.chart.age+m,l+n*m/r.x,i+t.m);a.strokeStyle="Black",a.stroke(),a.lineWidth=3,this.state.chart.data.map(function(e){if("text"!=e.type){a.beginPath();for(var t=0;t<r.x;t++){var s=l+t*n/(r.x-1);0==t?a.moveTo(s,i-e.data[t]*c/r.y):a.lineTo(s,i-e.data[t]*c/r.y)}a.strokeStyle="#"+e.color,a.stroke()}}),a.textAlign="right",a.textBaseline="middle";var d=t.w-t.mr;this.state.chart.data.map(function(e){"text"!=e.type&&(a.fillStyle="#"+e.color,a.fillText(e.name,d,i-1.1*c),d-=a.measureText(e.name).width+t.m+t.bar,a.fillRect(d,i-1.1*c-t.bar/2,t.bar,t.bar),d-=t.m)});var p=-1;if(e){for(var h=0;h<r.x;h++){var u=l+h*n/(r.x-1);if(Math.abs(e-u)<n/r.x/2){p=h;break}}e>l+n?p=r.x-1:e<l&&(p=0)}if(a.lineWidth=1,this.state.chart.data.map(function(e){if("text"!=e.type)for(var t=5;t<r.x;t+=5)a.beginPath(),a.arc(l+t*n/(r.x-1),i-e.data[t]*c/r.y,2,0,2*Math.PI),a.fillStyle="White",a.fill(),a.strokeStyle="#"+e.color,a.stroke()}),a.fillStyle="LightGray",a.fillRect(l,t.h-t.barm-t.bar,n,t.bar),a.textAlign="center",a.textBaseline="middle",a.fillStyle="Black",a.font=t.text+"px",a.fillText("年龄",l/2,t.h-t.barm-t.bar/2),p>=0){var f=l+p*n/(r.x-1);a.beginPath(),a.lineDash=[4,4],a.lineDashOffset=t.m,a.moveTo(f,0),a.lineTo(f,t.h-t.barm-t.bar),this.state.chart.data.map(function(e){if("text"!=e.type){var t=i-e.data[p]*c/r.y;a.moveTo(f,t),a.lineTo(l,t)}}),a.strokeStyle="Gray",a.stroke(),a.fillStyle="ForestGreen",a.fillRect(l,t.h-t.barm-t.bar,f-l,t.bar),a.textAlign="center",a.textBaseline="top",a.fillStyle="Black",a.fillText(this.state.chart.age+p+"岁",f,t.h-t.barm)}p>=0&&this.setState({pos:p})}},{key:"measure",value:function(e){var t=10,a=2;return e.map(function(e){"text"!=e.type&&(e.data.map(function(e){t<e&&(t=e)}),a<e.data.length&&(a=e.data.length))}),{x:a,y:t}}},{key:"translate",value:function(e){var t=750/e.w,a={};for(var r in e)a[r]=e[r]*t;return a}},{key:"onTouch",value:function(e){this.draw(e.changedTouches[0].clientX)}},{key:"render",value:function(){var e=this,t=this.state.pos;return React.createElement("div",{className:"text13 center"},React.createElement("canvas",{id:this.props.id,style:{marginLeft:"5px",width:"720px",height:"550px"},width:"750",height:"550",onTouchStart:this.onTouch.bind(this),onTouchMove:this.onTouch.bind(this)}),React.createElement("div",{style:{display:"flex",marginLeft:"15px",lineHeight:"50px"}},React.createElement("div",{style:{width:"110px"}},"保单年度"),this.props.years.map(function(e){return React.createElement("div",{style:{width:"120px",color:0==e?"#008800":"#aaaaaa"}},t+e>=0?"第"+(t+e+1)+"年":"")})),React.createElement("div",{style:{display:"flex",marginLeft:"15px",lineHeight:"50px"}},React.createElement("div",{style:{width:"110px"}},"期初年龄"),this.props.years.map(function(a){return React.createElement("div",{style:{width:"120px",color:0==a?"#008800":"#aaaaaa"}},t+a>=0?e.state.chart.age+t+a+"岁":"")})),this.state.chart.data.map(function(a,r){return React.createElement("div",{style:{display:"flex",flexDirection:"column",lineHeight:"50px"}},React.createElement("div",{style:{display:"flex",marginLeft:"15px"}},React.createElement("div",{style:{width:"110px"}},a.name),e.props.years.map(function(e){return React.createElement("div",{style:{width:"120px",color:0==e?"#008800":"#aaaaaa"}},t+e>=0&&t+e<a.data.length?a.data[t+e]:"")})))}),React.createElement("div",{style:{height:"30px"}}))}}]),t}();e.exports=l},function(e,t,a){"use strict";var r,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(0),n=(r=i)&&r.__esModule?r:{default:r};var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={proposalId:common.param("proposalId"),index:0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),l(t,[{key:"componentDidMount",value:function(){var e=this;Proposal.fullView(this.state.proposalId,function(t){e.setState({proposal:t},e.onInsurantSwitch.bind(e,0))})}},{key:"onInsurantSwitch",value:function(e){var t=this;Proposal.format(this.state.proposal.detail[e],"liab_graph,coverage,benefit_chart",function(a){t.setState({index:e,plan:t.state.proposal.plans[e],coverage:a.coverage,chart:a.benefit_chart,liability:a.liab_graph})})}},{key:"showLiabDetail",value:function(e,t,a){this.state.liability[e].detail[t].detail[a].show=!this.state.liability[e].detail[t].detail[a].show,this.setState({liability:this.state.liability})}},{key:"showCoverageDetail",value:function(e,t){this.state.coverage[e].content[t].show=!this.state.coverage[e].content[t].show,this.setState({coverage:this.state.coverage})}},{key:"render",value:function(){var e=this;if(!this.state.proposal||!this.state.plan||!this.state.proposal.other)return null;var t,a,r,l=this.state.plan;return React.createElement("div",null,React.createElement("div",null,React.createElement("div",null,React.createElement("img",{src:"https://lifeins.iyunbao.com/static/iyb/images/bobcardif/iyb10004banner.jpg",style:{width:"750px",height:"360px"},className:"br-bl-gray"})),React.createElement("div",{className:"divx"},this.state.proposal.plans.map(function(t,a){return React.createElement("div",{className:"divx pl-1 pr-1 pt-2 pb-2 tc-dark",style:{width:"250px",backgroundImage:a==e.state.index?"url(../images/arrow.png)":null,backgroundSize:"32px 16px",backgroundRepeat:"no-repeat",backgroundPosition:"center bottom"},onClick:e.onInsurantSwitch.bind(e,a)},React.createElement("div",null,React.createElement("img",{src:"M"==t.insurant.gender?"../images/male.png":"../images/female.png",style:{width:"100px",height:"100px"}})),React.createElement("div",{className:"pt-1 pb-1"},React.createElement("div",{className:"lh-50 text16"},t.insurant.name?t.insurant.name:"被保险人"),React.createElement("div",{className:"lh-30 text13"},"M"==t.insurant.gender?"男":"女"," ",t.insurant.age,"岁")))}))),React.createElement("div",{className:"bg-white"},React.createElement("div",{className:"divx pt-3 pl-2 pr-2 pb-2"},React.createElement("div",{className:"bg-primary",style:{width:"20px",height:"40px"}}),React.createElement("div",{className:"ml-1 lh-40"},"我的计划"),l?React.createElement("div",{className:"ml-auto lh-40"},"首年保费：",React.createElement("span",{className:"tc-red"},l.premium),"元"):null),React.createElement("div",{className:"ml-1 mr-1"},l?l.product.map(function(e,t){return null!=e.parent?null:React.createElement("div",{className:"bg-white"+(0==t?"":" mt-2"),style:{border:"#dddddd 1px solid"}},l.product.map(function(a,r){return a==e?React.createElement("div",{className:"product product-main text16"},React.createElement("div",{style:{height:"70px",display:"flex"}},React.createElement("img",{style:{width:"60px",height:"60px",margin:"10px 10px 0 10px"},src:l.icons[a.vendor]}),React.createElement("div",{style:{width:"600px",marginTop:"10px"}},React.createElement("span",{className:"text20 eclipse"},a.name))),React.createElement("div",{style:{height:"60px",display:"flex"}},React.createElement("div",{className:"left"}),React.createElement("div",{className:"middle eclipse"},React.createElement("span",null,a.purchase," / ",a.insure," / ",a.pay)),React.createElement("div",{className:"right"},React.createElement("span",{style:{color:"#000"}},a.premium,"元"))),React.createElement("div",{style:{height:"10px"}})):a.parent==t?React.createElement("div",{className:"product product-rider text16 br-tl"},React.createElement("div",{className:"left"},React.createElement("span",{style:{color:"#0a0"}},"附")),React.createElement("div",{className:"middle eclipse"},React.createElement("span",{style:{color:"#000",marginRight:"10px"}},a.abbrName),React.createElement("span",{style:{color:"#aaa"}})),React.createElement("div",{className:"right"},React.createElement("span",{style:{color:"#000"}},a.premium,"元"))):null}))}):null),React.createElement("div",{className:"divx mt-1 p-2"},React.createElement("div",{className:"bg-primary",style:{width:"20px",height:"40px"}}),React.createElement("div",{className:"ml-1 lh-40"},"我的保障")),React.createElement("div",{className:"ml-1 mr-1 pt-2 pb-2 bg-white",style:{border:"#dddddd 1px solid"}},this.state.liability?this.state.liability.map(function(t,a){return t.detail?React.createElement("div",{key:a},React.createElement("div",{className:"text17 lh-60 center pl-3 pr-3 ml-3 mr-3 mt-1 mb-2 tc-primary bg-white",style:{border:"#00aff9 1px solid",borderRadius:"30px"}},t.name),t.detail.map(function(t,r){return React.createElement("div",{className:"div text17 pl-1 pr-1 pb-1",key:r},React.createElement("div",{className:"divx"},React.createElement("div",{className:"mt-1 mb-1 lh-40 center bg-primary tc-white",style:{width:"40px",borderRadius:"20px"}},r+1),React.createElement("div",{className:"ml-1 lh-60 tc-primary"},t.name)),t.detail.map(function(t,l){return React.createElement("div",{className:"lh-40",key:l},React.createElement("div",{className:"divx pb-1",onClick:e.showLiabDetail.bind(e,a,r,l)},React.createElement("img",{style:{width:"40px",height:"40px"},src:t.show?"../images/arrow-7-up.png":"../images/arrow-7-down.png"}),React.createElement("div",{className:"pl-1",style:{width:"650px"}},t.text)),t.detail.map(function(e,a){return t.show&&t.detail?React.createElement("div",{className:"divx text15 lh-30 tc-dark pb-1",key:a},React.createElement("div",{className:"center",style:{width:"40px"}}),React.createElement("div",{className:"divx lh-40"},React.createElement("div",{className:"title mr-1"},e.productAbbrName)," ",React.createElement("div",null,e.text))):null}))}))})):null}):null),React.createElement("div",{className:"divx mt-1 p-2"},React.createElement("div",{className:"bg-primary",style:{width:"20px",height:"40px"}}),React.createElement("div",{className:"ml-1 lh-40"},"利益图表")),React.createElement("div",{className:"ml-1 mr-1 pt-2 pb-2 bg-white",style:{border:"#dddddd 1px solid"}},this.state.chart?this.state.chart.map(function(e,t){return e.content?React.createElement("div",null,React.createElement("div",{className:"text17 lh-60 center pl-3 pr-3 ml-3 mr-3 mt-1 mb-2 tc-primary bg-white",style:{border:"#00aff9 1px solid",borderRadius:"30px"}},e.productName),React.createElement("div",{className:"divx"},React.createElement(n.default,{ref:"benefitChart"+t,id:"benefitChart"+t,chart:e,years:[-2,-1,0,1,2]}))):null}):null),React.createElement("div",{className:"divx mt-1 p-2"},React.createElement("div",{className:"bg-primary",style:{width:"20px",height:"40px"}}),React.createElement("div",{className:"ml-1 lh-40"},"责任条款")),React.createElement("div",{className:"ml-1 mr-1 pt-2 pb-2 bg-white",style:{border:"#dddddd 1px solid"}},this.state.coverage?this.state.coverage.map(function(t,a){return React.createElement("div",{className:"pl-2 pr-2 bg-white"},React.createElement("div",{style:{marginTop:(0!=a?10:0)+"px"}},React.createElement("div",{className:"text17 lh-60 center pl-3 pr-3 ml-3 mr-3 mt-1 mb-2 tc-primary bg-white",style:{border:"#00aff9 1px solid",borderRadius:"30px"}},t.productName)),t.content.map(function(t,r){return React.createElement("div",{style:{background:"#fff"}},React.createElement("div",{className:"divx h-60",onClick:e.showCoverageDetail.bind(e,a,r)},React.createElement("div",{className:"text17 mt-1 mb-1 lh-40 center bg-primary tc-white",style:{width:"40px",borderRadius:"20px"}},r+1),React.createElement("div",{className:"text17 ml-1 lh-60 tc-primary"},t.title),React.createElement("div",{className:"ml-auto mr-1 pt-1 pm-1"},React.createElement("img",{style:{width:"40px",height:"40px"},src:t.show?"../images/arrow-7-up.png":"../images/arrow-7-down.png"}))),t.show?t.content.map(function(e,t){return React.createElement("div",{className:"text16"},"　　",e.text)}):null,React.createElement("div",{style:{height:"10px"}}))}),React.createElement("div",{style:{height:"10px"}}))}):null),React.createElement("div",{className:"divx mt-1 p-2"},React.createElement("div",{className:"bg-primary",style:{width:"20px",height:"40px"}}),React.createElement("div",{className:"ml-1 lh-40"},"温馨提示")),React.createElement("div",{className:"ml-1 mr-1 p-1 bg-white tc-dark text15",style:{border:"#dddddd 1px solid"}},"　　免除保险公司责任条款、犹豫期、解除合同的手续及风险、费用扣除等内容，请您仔细阅读保险合同。本演示说明仅供参考，具体保险责任、免除保险公司责任的条款等内容以正式保险合同为准。"),React.createElement("div",{className:"h-60"}),React.createElement("div",{className:"bottom"},React.createElement("div",{className:"divx",style:{width:"550px"}},React.createElement("div",{style:{width:"100px",padding:"10px"}},React.createElement("img",{src:"../images/female.png",style:(t={width:"80px"},a="width",r="80px",a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t)})),React.createElement("div",{className:"tc-white lh-80 pt-1",style:{width:"300px"}},React.createElement("div",{className:"lh-40 text18"},"张星彩"),React.createElement("div",{className:"divx"},React.createElement("div",null,React.createElement("img",{src:"../images/telephone.png",style:{width:"40px",height:"40px",filter:"invert(100%)"}})),React.createElement("div",{className:"lh-40 text14"},"13911231123")))),React.createElement("div",{className:"btn-img tc-white text12"},React.createElement("img",{src:"../images/folder.png",style:{filter:"invert(100%)"}}),React.createElement("div",null,"分享")),React.createElement("div",{className:"btn-img bg-white text12 ml-auto"},React.createElement("img",{src:"../images/folder.png"}),React.createElement("div",null,"完成")))))}}]),t}();$(document).ready(function(){ReactDOM.render(React.createElement(c,null),document.getElementById("root"))})}]);